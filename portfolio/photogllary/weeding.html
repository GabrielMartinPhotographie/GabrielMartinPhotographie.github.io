<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wedding photography</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
</head>
<body>
    <div class="container">
        <img class="center" src="../illustrator/helmet.gif" alt="">
        <h1 class="heading"> Photographies de <span>Gabriel MARTIN</span></h1>
        <!-- ... autres éléments ... -->
    </div>

    <div class="gallery" id="dynamicGallery"></div>

    <hr style="margin-top:2rem;">

    <div style="text-align: center;">
        <h1><a style=" text-decoration: none; cursor: pointer; color: #0f6329;" href="../portfolio.html"><i class="fas fa-backward"></i> Back to Portfolio</a></h1>
    </div>

    <script>
        // Fonction pour générer dynamiquement la galerie
        function generateGallery() {
            const folderPath = '../Portfolio/';
            const galleryContainer = document.getElementById('dynamicGallery');

            // Utilisation de l'API Fetch pour récupérer la liste des fichiers dans le dossier
            fetch(folderPath)
                .then(response => response.text())
                .then(data => {
                    // Utilisation de DOMParser pour parcourir le HTML généré par le serveur
                    const parser = new DOMParser();
                    const htmlDocument = parser.parseFromString(data, 'text/html');

                    // Sélectionner toutes les balises img dans le document HTML généré
                    const imageElements = htmlDocument.querySelectorAll('img');

                    // Créer dynamiquement les éléments de la galerie
                    imageElements.forEach(img => {
                        const galleryItem = document.createElement('div');
                        galleryItem.classList.add('gallery-item');

                        const galleryImage = document.createElement('img');
                        galleryImage.classList.add('gallery-image');
                        galleryImage.src = folderPath + img.getAttribute('src');
                        galleryImage.alt = 'wedding bride';

                        galleryItem.appendChild(galleryImage);
                        galleryContainer.appendChild(galleryItem);
                    });
                })
                .catch(error => console.error('Erreur lors de la récupération des fichiers:', error));
        }

        // Appel de la fonction pour générer la galerie au chargement de la page
        window.onload = generateGallery;
    </script>
</body>
</html>
